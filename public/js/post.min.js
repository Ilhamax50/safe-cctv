document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1),n=document.querySelector(`[id='${decodeURIComponent(t)}']`);n&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches?n.scrollIntoView():n.scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`))})});var t,e=document.getElementById("top-link");e&&(window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(e.style.visibility="visible",e.style.opacity="1"):(e.style.visibility="hidden",e.style.opacity="0")}),t=document.getElementById("theme-toggle"),t&&t.addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.querySelectorAll("pre code").forEach(e=>{const t=document.createElement("button");t.className="copy-code",t.textContent="Copy",e.parentNode.insertBefore(t,e),t.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(e.textContent),t.textContent="Copied!",setTimeout(()=>{t.textContent="Copy"},2e3)}catch(e){console.error("Failed to copy text: ",e)}})})})